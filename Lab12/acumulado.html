<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
    crossorigin="anonymous"
  />
  <title>Tabla equipos</title>
</head>
<nav class="navbar navbar-expand-lg navbar-light bg-light">


    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="#">Listas </a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="#">Apertura</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="#">Clausura</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="#">Acumulado</a>
            </li>
        </ul>

    </div>
</nav>

<body>
<div class="container">
    <br>

  <h2>Lista del acumulado</h2>
  <a class="btn btn-primary mt-4 mb-4" th:href="@{/estadio/new}"
  >Nuevo arbitro</a
  >
  <table class="table table-sm text-center">
        <tr>
            <th class="align-middle">#</th>
            <th class="align-middle">Equipo</th>
            <th class="align-middle">Acumulado</th>
            <th class="align-middle">P. Jugados</th>
            <th class="align-middle">P. Ganados</th>
            <th class="align-middle">P.Perdidos</th>
            <th class="align-middle">P. Empatados</th>
            <th class="align-middle">G. a Favor</th>
            <th class="align-middle">G. en Contra</th>
            <th class="align-middle">Diferencia de Goles</th>
            <th class="align-middle">Puntos</th>
        </tr>
    </table>
</div>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
  crossorigin="anonymous"
></script>
<script>
    $( document).ready(function (){

      $.ajax({
        method:"GET",
        url:"http://localhost:8000/api/liga/",
        dataType : "json"  })
        .done(function (data){

          var contentHtml = "";
          let p=0;
          $.each(data , function (i, repuesta) {

            if (repuesta.liga == 2){
              p= p+ 1;
              contentHtml += "<tr>";
              contentHtml += "<td>" + p + "</td>";
              contentHtml += "<td>" + repuesta.equipo.nombre +  "</td>";
              contentHtml += "<td>" + repuesta.partidos_jugados +  "</td>";
              contentHtml += "<td>" + repuesta.partidos_ganados +  "</td>";
              contentHtml += "<td>" + repuesta.partidos_perdidos +  "</td>";
              contentHtml += "<td>" + repuesta.partidos_empatados +  "</td>";
              contentHtml += "<td>" + repuesta.goles_favor +  "</td>";
              contentHtml += "<td>" + repuesta.goles_contra +  "</td>";
              contentHtml += "<td>" + repuesta.goles_diferencia +  "</td>";
              contentHtml += "<td>" + repuesta.puntos +  "</td>";
              contentHtml += "</tr>";
            }

          });
          $("#cuadro").html(contentHtml);

        })
        .fail(function (error){
          console.log(error);
          alert(error)
        })

    });

</script>
</body>
</html>
